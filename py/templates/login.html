<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Вход</title>
    <style>
        body {
            text-align: center;
        }

        #login_form {
            position: relative;
            top: 40vh;
        }
    </style>
</head>
<body>

<div id="login_form">
    <input id="login" placeholder="Логин">
    <br>
    <br>
    <input id="password" type="password" placeholder="Пароль">
    <br>
    <br>
    <button id="signin" onclick="sign_in()">Войти</button>
    <br>
    <br>
    <a href="/register/">Регистрация</a>
</div>

<script>
    function sign_in() {
        var login = document.getElementById("login").value
        var password = document.getElementById("password").value

        var xhr = new XMLHttpRequest();
	    xhr.open('POST', '/sign_in/');

	    var data = new FormData();

        data.append('login', login)
        data.append('password', password)

        xhr.send(data);

        xhr.onload = function () {
            if (xhr.response == "error") {
                alert("Неправильный логин или пароль")
            } else {
				var link = '/acc/?user=' + xhr.response
		        window.location.href = link
		    }
	    };

    }
</script>

</body>
</html>